
//const ranges = [[293759114674909n,294160161397913n],[14118421020776n,14930744118859n],[212804101443789n,218058035077685n],[50854767297312n,56411315641900n],[263280706509777n,265737025858052n],[189685609890784n,190192477294478n],[188279085433277n,189034967272023n],[162607730698043n,162607730698043n],[300167827559797n,300727517063443n],[184915268785446n,185017856482826n],[383228600683302n,387924839012363n],[182129955449970n,182374969732510n],[90825530041695n,96657677707484n],[252948646840636n,256726912576032n],[296126217332660n,296492183593019n],[15113027119766n,15788058659949n],[317165330346483n,319756785199474n],[453875053055321n,456016262408936n],[1588359778224n,1588359778224n],[181522312061574n,181792063478453n],[516410761892282n,522082097435568n],[436983958939555n,439748083024520n],[334419699778862n,339504477848945n],[526093075174129n,526901177450651n],[15113027119766n,15788058659949n],[287156030432969n,288910312232076n],[528334907392464n,528798980588538n],[84347805502177n,89233281153734n],[187075368471782n,187350410204881n],[106386518140218n,107538347738158n],[495038028072904n,497048807173181n],[18308543486000n,19063936849347n],[312120793963018n,317165330346481n],[172034451158954n,177902709394922n],[162607730698044n,168270486393478n],[73515279482252n,79444537000532n],[41738954880549n,49586059980007n],[460171791414850n,461982994249845n],[1588359778224n,9459487872680n],[530747292433667n,531082378231243n],[50854767297312n,59476027625316n],[393447796688222n,394730449008337n],[103565607092779n,104726895944442n],[184018991298523n,184248683371571n],[378761634062214n,378761634062214n],[291941556223230n,292423931469140n],[484779107323165n,488247664445995n],[271965070601709n,278955876456877n],[452690040336858n,454465178858441n],[43245307834664n,46019742026916n],[12192026095067n,12697120065197n],[294754922981671n,294837704098837n],[475425166553581n,479405117687162n],[184248683371571n,185017856482826n],[293177473607841n,293759114674909n],[347911763367090n,347911763367090n],[13665677940873n,14510402670977n],[557321388585594n,562124674730076n],[152643352040446n,160414795110922n],[405724043573124n,405724043573124n],[395366451082717n,396976456909177n],[455284926705277n,457302426796893n],[524085893015885n,524338726977985n],[298228384916056n,299041711087702n],[399400922161252n,400841717561840n],[96657677707485n,97977908663839n],[531312334442228n,531664153318532n],[400254767362049n,401797661086579n],[299041711087702n,299670438379451n],[445010952788549n,449481444380244n],[541476938686352n,541476938686352n],[385726945887023n,391226017441436n],[186312435671497n,187075368471782n],[524828099845482n,525459292712313n],[364735716581903n,371082928073708n],[131783390820128n,137288090698942n],[548476342774845n,551854597908597n],[182809267410179n,183245453418564n],[528616239376180n,528798980588538n],[495038028072904n,501174446363513n],[73515279482252n,79444537000532n],[261598364303901n,264399428601722n],[183561727961215n,183776463482965n],[181408548710764n,182129955449970n],[145447723285709n,150191998900783n],[137288090698942n,137288090698942n],[398396130377440n,399708460199615n],[33541618650319n,39315748549400n],[299041711087702n,299670438379451n],[293177473607841n,293334605216320n],[104229415027763n,105659252838080n],[526901177450651n,527105920879115n],[10588810106828n,10932938853759n],[184563649203045n,185017856482826n],[282632020713215n,287156030432968n],[422637303023819n,427909023660406n],[223473021642281n,223473021642281n],[123021619329474n,123021619329474n],[223473021642281n,229122155773085n],[415430548176613n,417849682615697n],[516410761892282n,522082097435568n],[186562526415499n,187350410204881n],[202818421875168n,207402174964858n],[185600546964874n,186312435671497n],[375356583990252n,378761634062214n],[188552986145652n,189373672577354n],[300524128878436n,300920798200495n],[61723695330659n,66934453033837n],[267123379236393n,269249556304596n],[299670438379451n,300524128878436n],[445010952788549n,445010952788549n],[302593067897152n,310496177367161n],[294754922981671n,295236654500346n],[218058035077686n,218058035077686n],[296735095605171n,297012203005960n],[343050441747877n,347911763367089n],[479405117687162n,479405117687162n],[10149932412318n,10588810106828n],[394480286195125n,395850414302244n],[294009221321396n,294340832333267n],[435215601268184n,436983958939554n],[464547986954364n,470637736546566n],[334419699778861n,334419699778861n],[175554187342038n,179270502629476n],[527965210006873n,528145779370247n],[123021619329475n,129230936844385n],[294837704098837n,295767616891645n],[101592424674492n,103018549421745n],[426361402094889n,431440354582071n],[100714281030322n,102117261418225n],[207402174964859n,208211961202753n],[102457008397682n,103780492898948n],[186078194098514n,186312435671497n],[238359444554329n,238359444554329n],[356405949729591n,357737354363171n],[235015156808104n,238359444554329n],[252948646840636n,260549412380522n],[466106529871705n,468310725178504n],[397453020905445n,398831051728302n],[109016002316995n,110195134063754n],[529442999570838n,529932783536100n],[193043627044590n,200204448735378n],[324523729958481n,330646265501421n],[415430548176613n,417849682615697n],[142111478873018n,145447723285707n],[264853103803001n,267985882847542n],[524085893015885n,524611698002829n],[405724043573124n,410787169998427n],[181522312061574n,182129955449970n],[155006964181989n,156118694522562n],[112584652043027n,117876129858968n],[354013653195002n,361320852308742n],[504430399131984n,510779333924290n],[457681593075051n,459609397537345n],[39315748549401n,39315748549401n],[185600546964874n,185810119923803n],[23320912501001n,26172096646748n],[105407774407677n,106729431722210n],[302593067897152n,306616636635475n],[12842813391779n,13285892056583n],[186078194098514n,186885175304232n],[17171967083685n,17506712345380n],[543455463541816n,548476342774843n],[392439165379516n,393795501064246n],[366171479259870n,371082928073708n],[533541452190647n,541476938686351n],[193043627044590n,200204448735378n],[529442999570838n,529932783536100n],[107190586650780n,108601673982848n],[63478381557019n,68201587704626n],[242194001614782n,250127963677070n],[115592795688862n,117876129858968n],[83355673195332n,84347805502175n],[108160573837042n,109545425345178n],[458757635995980n,460858048046654n],[268814741295220n,270884175562991n],[396159396078746n,397702385578543n],[557321388585593n,557321388585593n],[456561659226023n,458493007240010n],[506967373408071n,510779333924290n],[247261438155904n,250127963677070n]]
const ranges = [[3n,5n],[10n,15n],[16n,20n],[12n,18n]]
//const ids = 
let totalvalidids = 0n
validlist = new Set()
let failedon;
nonoverlapping = []
for (let i = 0n; i < ranges.length; i++) {
    passed = true
    for (let j = 0n; j<ranges.length;j++) {
        if ((ranges[i][0] >= ranges[j][0] && ranges[i][0] <= ranges[j][1])||(ranges[i][1] <= ranges[j][1] && ranges[i][1] >= ranges[j][0])){
            failedon = j
            passed = false
        } else {
            
        }
    }
    if(passed == false){
        console.log("no")
        if(failedon == i){
            console.log(totalvalidids)
            console.log(String(ranges[i]) +"  is   " +  String(ranges[i][1]-ranges[i][0]+1n)) 
            totalvalidids += ranges[i][1]-ranges[i][0]+1n
            nonoverlapping.push((ranges[i]))
        } else{
            console.log(String(ranges[i]) + " overlaps with " + String(ranges[failedon]))
            
        }
    } else {
        //console.log("passed " )
    }



    
}
for(let i = 0; i<nonoverlapping.length; i++){
    indexofit = ranges.indexOf((nonoverlapping[i][0]))
    if(!indexofit==-1){
        console.log(ranges.slice(indexofit) + "   found")
    } else {console.log("not found   " + String(...nonoverlapping[i]))}
}

console.log(totalvalidids + "   total")
console.log("non   " + String(...nonoverlapping))
console.log("left   " + String(...ranges))